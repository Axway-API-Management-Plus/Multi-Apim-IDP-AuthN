<entityStoreData xmlns="http://www.vordel.com/2005/06/24/entityStore">
<metaInfo flags="138">
	<exportRoots>
		<key type='NetService'>
			<id field='name' value='Service'/>
			<key type='RemoteHost'>
				<id field='alias' value='APIM Master'/>
			</key>
		</key>
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Compare User Info'/>
					</key>
				</key>
			</key>
		</key>
		<key type='NetService'>
			<id field='name' value='Service'/>
			<key type='RemoteHost'>
				<id field='alias' value='keycloak'/>
			</key>
		</key>
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Authenticate with Keycloak'/>
					</key>
				</key>
			</key>
		</key>
		<key type='AuthProfilesGroup'>
			<id field='name' value='Auth Profiles'/>
			<key type='BasicAuthGroup'>
				<id field='name' value='HTTP Basic'/>
				<key type='BasicProfile'>
					<id field='name' value='APIM'/>
				</key>
			</key>
		</key>
		<key type='ESConfiguration'>
			<id field='name' value='Entity Store Configuration'/>
		</key>
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Get idP User Info'/>
					</key>
				</key>
			</key>
		</key>
	</exportRoots>
	<typeVersions>
		<type name="AddHTTPHeaderFilter" version="5"/>
		<type name="AttributeCompare" version="1"/>
		<type name="AuthProfilesGroup" version="0"/>
		<type name="BasicAuthGroup" version="0"/>
		<type name="BasicProfile" version="0"/>
		<type name="ChangeMessageFilter" version="0"/>
		<type name="CircuitContainer" version="1"/>
		<type name="CircuitDelegateFilter" version="1"/>
		<type name="CompareAttributeFilter" version="0"/>
		<type name="ConnectToURLFilter" version="4"/>
		<type name="ConnectionFilter" version="19"/>
		<type name="ConversionFilter" version="0"/>
		<type name="CopyAttribute" version="0"/>
		<type name="CopyAttributeFilter" version="1"/>
		<type name="ESConfiguration" version="27"/>
		<type name="Entity" version="0"/>
		<type name="FalseFilter" version="0"/>
		<type name="Filter" version="5"/>
		<type name="FilterCircuit" version="4"/>
		<type name="JSONPath" version="1"/>
		<type name="JSONPathFilter" version="0"/>
		<type name="JavaProcess" version="0"/>
		<type name="LoadBalanceConfig" version="0"/>
		<type name="LoadableModule" version="2"/>
		<type name="NamedAuthnProfile" version="0"/>
		<type name="NamedGroup" version="0"/>
		<type name="NamedTopLevelGroup" version="0"/>
		<type name="NativeModule" version="0"/>
		<type name="NetService" version="5"/>
		<type name="Process" version="0"/>
		<type name="RemoteHost" version="19"/>
		<type name="RootChild" version="0"/>
		<type name="RoundRobinLbCfg" version="0"/>
		<type name="SaveToFileFilter" version="2"/>
		<type name="SetAttributeFilter" version="0"/>
		<type name="TraceFilter" version="3"/>
		<type name="TrueFilter" version="0"/>
	</typeVersions>
	<realizedTypes><![CDATA[
<entityStoreData>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" abstract="true" extends="Entity" name="RootChild"/>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" abstract="true" extends="RootChild" name="LoadableModule">
        <constant name="_version" type="integer" value="2"/>
        <constant name="loadorder" type="integer" value="1000000"/>
        <field cardinality="?" name="classloader" type="^ClassLoader"/>

        </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" abstract="true" extends="LoadableModule" name="NativeModule">
        <constant name="_version" type="integer" value="0"/>
                <constant name="class" type="string" value="com.vordel.dwe.NativeModule"/>
        </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="NativeModule" name="RemoteHost">
        <constant name="_version" type="integer" value="19"/>
        <constant name="loadorder" type="integer" value="500000"/> <!-- load a bit early -->
        <componentType cardinality="1" name="Watchdog"/>
        <componentType cardinality="1" name="LoadBalanceConfig"/>
        <componentType cardinality="*" name="AddressRank"/>
        <field isKey="true" name="alias" type="string"/>
        <field name="name" type="string"/>
        <field cardinality="1" default="80" name="port" type="string"/>
        <field cardinality="1" default="0" name="allowHTTP11" type="boolean"/>
        <field cardinality="1" default="-1" name="maxConnections" type="integer"/>
        <field cardinality="1" default="30000" name="connectTimeout" type="integer"/>
        <field cardinality="1" default="30000" name="activetimeout" type="integer"/>
        <field cardinality="1" default="240000" name="maxTransTimeout" type="integer"/>
        <field cardinality="1" default="20971520" name="maxInputLen" type="integer"/>
        <field cardinality="1" default="20971520" name="maxOutputLen" type="integer"/>
        <field cardinality="1" default="15000" name="idletimeout" type="integer"/>
        <field cardinality="1" default="8192" name="inputBufSize" type="integer"/>
        <field cardinality="1" default="8192" name="outputBufSize" type="integer"/>
        <field cardinality="1" default="0" name="includeContentLengthRequest" type="boolean"/>
        <field cardinality="1" default="0" name="includeContentLengthResponse" type="boolean"/>
        <field cardinality="1" default="300000" name="addressCacheTime" type="integer"/>
        <field default="32" name="sessionCacheSize" type="integer"/>    
        <field cardinality="1" default="1" name="verifyServerHostname" type="boolean"/>
        <field cardinality="1" default="0" name="offerTlsServerName" type="boolean"/>

        <!--
            The list of content-encodings that we will receive or send
            We cannot distinguish between an empty list, and an absent property,
            so we use the magic single value ".inherit" to mean "derive settings
            from parent context
        -->
        <field cardinality="*" default=".inherit" name="inputEncodings" type="string"/>
        <field cardinality="*" default=".inherit" name="outputEncodings" type="string"/>


        <!-- Indicate if correlation IDs should be sent to this host -->
        <field cardinality="1" default="true" name="exportCorrelationId" type="boolean"/>

    </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="RootChild" name="ESConfiguration">
        <constant name="_version" type="integer" value="27"/>
        <!--
            Give this singleton a key.
        -->
        <field isKey="true" name="name" type="string"/>
        <!-- 
            We use this field to verify that the passphrase for the 
            encryped data is synchronized between the server and client, and
            between multiple invocations of the client
        -->
        <field name="passphraseTest" type="encrypted"/>
        <field name="version" type="string"/>
        <!-- The product key should never change for the lifetime of the product -->
        <field name="productKey" type="string"/>
        <field cardinality="?" name="gitrev" type="string"/>
    </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" abstract="true" extends="RootChild" name="Process">
        <constant name="_version" type="integer" value="0"/> <!-- Common features to all processes created by Vordel software. -->
		<field isKey="true" name="name" type="string"/>
	</entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" abstract="true" extends="Process" name="JavaProcess">
        <constant name="_version" type="integer" value="0"/>
    </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="JavaProcess" name="NetService">
    <constant name="_version" type="integer" value="5"/>
    <!-- Static type-field. -->
    <constant name="executableImage" type="string" value="vshell"/>
    <componentType name="LoadableModule"/>
    <componentType name="ClassLoader"/>
  </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="RootChild" name="CircuitContainer">
    <constant name="_version" type="integer" value="1"/>
    <componentType cardinality="*" name="FilterCircuit"/>
    <componentType cardinality="*" name="CircuitContainer"/>
    <componentType cardinality="*" name="MVProperty"/>
    <field isKey="true" name="name" type="string"/>
  </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="RootChild" name="FilterCircuit">
        <constant name="_version" type="integer" value="4"/>
		<componentType cardinality="*" name="Filter"/>
		<componentType cardinality="1" name="BoundCircuit"/>
		<componentType cardinality="*" name="Property"/>
		<field cardinality="1" name="start" type="@Filter"/>
		<field cardinality="?" name="fault" type="@Filter"/>
		<field isKey="true" name="name" type="string"/>
		<field cardinality="1" default="3" name="logMask" type="integer"/>

		<field cardinality="?" name="description" type="string"/>		
		<field cardinality="1" name="category" type="@PolicyCategory">
            <defaultRef>
                <key type="PolicyCategoryGroup">
                  <id field="name" value="Policy Categories"/>
                  <key type="PolicyCategory">
                      <id field="name" value="miscellaneous"/>
                  </key>
                </key>
            </defaultRef>
        </field>
	</entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" abstract="true" extends="RootChild" name="NamedTopLevelGroup">
        <constant name="_version" type="integer" value="0"/>
		<field isKey="true" name="name" type="string"/>
	</entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="NamedTopLevelGroup" name="AuthProfilesGroup"> 
        <constant name="_version" type="integer" value="0"/>
	<componentType cardinality="*" name="OAuthGroup"/>
	<componentType cardinality="*" name="SAMLGroup"/>
	<componentType cardinality="*" name="ApiKeyGroup"/>
	<componentType cardinality="*" name="BasicAuthGroup"/>
	<componentType cardinality="*" name="KerberosGroup"/> 
	<componentType cardinality="*" name="ApiKeySignerGroup"/> 
    </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" abstract="true" extends="Entity" name="LoadBalanceConfig">
        <constant name="_version" type="integer" value="0"/>
        <field isKey="true" name="name" type="string"/>
    </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="LoadBalanceConfig" name="RoundRobinLbCfg">
        <constant name="_version" type="integer" value="0"/>
    </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" abstract="true" extends="Entity" name="NamedGroup">
        <constant name="_version" type="integer" value="0"/>
		<field isKey="true" name="name" type="string"/>
	</entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="NamedGroup" name="BasicAuthGroup">
    <constant name="_version" type="integer" value="0"/>
    <componentType cardinality="*" name="BasicProfile"/>
  </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="Entity" name="CopyAttribute">
        <constant name="_version" type="integer" value="0"/>
        <!-- Key fields -->
        <field cardinality="1" isKey="true" name="fromAttributeName" type="string"/>   
        <field cardinality="1" default="" isKey="true" name="fromAttributeNamespace" type="string"/>   
        <field cardinality="1" default="" isKey="true" name="toAttributeName" type="string"/>   
        <field cardinality="1" default="" isKey="true" name="toAttributeNamespace" type="string"/>
        <!-- Other fields -->    
        <field cardinality="?" name="attributeValue" type="string"/>
        <field cardinality="1" default="1" name="fromAttributeLocation" type="integer"/>   
        <field cardinality="1" default="1" name="toAttributeLocation" type="integer"/>           
        <field cardinality="1" default="0" name="toListAttribute" type="boolean"/>          
    </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" abstract="false" extends="Entity" name="AttributeCompare">
      <constant name="_version" type="integer" value="1"/>
      <field isKey="true" name="attrName" type="string"/>
      <field default="CONTAINS" isKey="true" name="matchType" type="string"/>
      <field isKey="true" name="expression" type="string"/>
    </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" abstract="false" extends="Entity" name="JSONPath">
        <constant name="_version" type="integer" value="1"/>
        <field name="attributeName" type="string"/>
        <field isKey="true" name="expression" type="string"/>
        <field default="java.util.List" name="unmarshalType" type="string"/>
        <field default="false" name="failOnError" type="boolean"/>
    </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" abstract="true" extends="Entity" name="NamedAuthnProfile">
    <constant name="_version" type="integer" value="0"/>
    <field cardinality="1" isKey="true" name="name" type="string"/>
  </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="NamedAuthnProfile" name="BasicProfile">
    <constant name="_version" type="integer" value="0"/>
    <field cardinality="1" default="basic" name="httpAuthType" type="string"/>
    <field cardinality="1" name="httpAuthUser" type="string"/>
    <field cardinality="1" name="httpAuthPass" type="encrypted"/>
    <field cardinality="1" default="1" name="httpSendCredsWithoutPrompt" type="boolean"/>
  </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" abstract="true" extends="Entity" name="Filter">
        <constant name="_version" type="integer" value="5"/>
        <field cardinality="?" name="successNode" type="@Filter"/>
        <field cardinality="?" name="failureNode" type="@Filter"/>
        <field isKey="true" name="name" type="string"/>
        <field cardinality="1" default="2" name="logMask" type="integer"/>
        <field cardinality="1" default="Filter aborted due to exception" name="logFatal" type="string"/>
        <field cardinality="1" default="Filter failed" name="logFailure" type="string"/>
        <field cardinality="1" default="Filter passed" name="logSuccess" type="string"/>
        <field cardinality="1" name="category" type="@Category">
            <defaultRef>
                <key type="CategoryGroup">
                  <id field="name" value="Filter Categories"/>
                  <key type="Category">
                      <id field="name" value="miscellaneous"/>
                  </key>
                </key>
            </defaultRef>
        </field>
      <field cardinality="1" default="0" name="abortProcessingOnLogError" type="boolean"/>
      <field cardinality="1" default="SERVICE" name="logMaskType" type="string"/>
      <field cardinality="*" name="classloader" type="^ClassLoader"/>
    </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="Filter" name="SetAttributeFilter">
        <constant name="_version" type="integer" value="0"/>
  
    <!-- Name of the Filter class that encapsulates this configuration entity -->
    <constant name="class" type="string" value="com.vordel.circuit.attribute.SetAttributeFilter"/>
    
    <!-- List of the configuration parameters, their types, and their default values -->
    <field cardinality="1" default="" name="messageAttribute" type="string"/>	
    <field cardinality="1" default="" name="attributeValue" type="string"/>	
  </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="Filter" name="SaveToFileFilter">
		<constant name="_version" type="integer" value="2"/>
		<constant name="class" type="string" value="com.vordel.circuit.file.SaveToFileFilter"/>
		<field cardinality="1" default="${id}.out" name="fileName" type="string"/>
		<field cardinality="1" default="${environment.VINSTDIR}/message-archive" name="directory" type="string"/>
		<field cardinality="1" default="1000" name="maxFileSize" type="integer"/>
		<field cardinality="1" default="500" name="maxNumberFiles" type="integer"/>
		<field cardinality="1" default="0" name="includeHeaders" type="boolean"/>
		<field cardinality="1" default="0" name="includeRequestLine" type="boolean"/>
	</entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="Filter" name="AddHTTPHeaderFilter">
        <constant name="_version" type="integer" value="5"/>
		<constant name="class" type="string" value="com.vordel.circuit.conversion.AddHTTPHeaderFilter"/>
		<field cardinality="1" name="headerName" type="string"/>	
        <field cardinality="1" name="headerValue" type="string"/>	
        <field cardinality="1" default="0" name="base64Encode" type="boolean"/>
        <field cardinality="1" default="1" name="overwriteExistingHeader" type="boolean"/>
        <field cardinality="1" default="httpheaders" name="addWhere" type="string"/>
        </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="Filter" name="TrueFilter">
        <constant name="_version" type="integer" value="0"/>
		<constant name="class" type="string" value="com.vordel.circuit.basic.True"/>
	</entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="Filter" name="CopyAttributeFilter">
        <constant name="_version" type="integer" value="1"/>
        <constant name="class" type="string" value="com.vordel.circuit.attribute.CopyAttributeFilter"/>    
	    <componentType cardinality="+" name="CopyAttribute"/>
	</entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="Filter" name="CircuitDelegateFilter">
        <constant name="_version" type="integer" value="1"/>
		<constant name="class" type="string" value="com.vordel.circuit.CircuitDelegateFilter"/>
		<field cardinality="?" name="circuitPK" type="^FilterCircuit"/>
	</entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" abstract="true" extends="Filter" name="ConversionFilter">
        <constant name="_version" type="integer" value="0"/>
		<field cardinality="?" name="outputContentType" type="string"/> 
	</entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="ConversionFilter" name="ChangeMessageFilter">
        <constant name="_version" type="integer" value="0"/>
		<constant name="class" type="string" value="com.vordel.circuit.conversion.ChangeMessageFilter"/>
		<field cardinality="1" default="" name="body" type="string"/>	
         </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="Filter" name="CompareAttributeFilter">
        <constant name="_version" type="integer" value="0"/>
        <constant name="class" type="string" value="com.vordel.circuit.attribute.CompareAttributeFilter"/>
        <componentType name="AttributeCompare"/>
        <field default="MATCH_ALL" name="matchingRule" type="string"/>
    </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="Filter" name="ConnectionFilter">
    <constant name="_version" type="integer" value="19"/>
    <constant name="class" type="string" value="com.vordel.circuit.net.ConnectionFilter"/>
    <componentType cardinality="1" name="SaveToFileFilter"/>

    <!-- Credential profile -->
    <field cardinality="1" default="false" name="profileInUse" type="boolean"/>
    <field cardinality="?" default="reference" name="profileType" type="string"/>
    <field cardinality="?" name="profile" type="^NamedAuthnProfile"/>
    <field cardinality="?" default="" name="profileSelector" type="string"/>

    <!-- SSL Specific -->
    <field cardinality="*" name="caCerts" type="^Certificate"/>
    <field cardinality="*" name="sslUsers" type="^Certificate"/>
    <field cardinality="1" default="true" name="useRootCerts" type="boolean"/>
    <field default="FIPS:!SSLv3:!aNULL" name="ciphers" type="string"/> <!-- See OpenSSL "ciphers" manpage -->
    <!-- set of tokens for advanced SSL options: nosslv2, nosslv3, etc. -->
    <field cardinality="*" name="ssloptions" type="string">
        <defaultValue>nosslv2</defaultValue>
        <defaultValue>nosslv3</defaultValue>
        <defaultValue>notlsv1</defaultValue>
        <defaultValue>notlsv1_1</defaultValue>
    </field>

    <field cardinality="?" default="0" name="sendProxyMode" type="boolean"/>	
    <field cardinality="?" default="0" name="forwardClientHostHeader" type="boolean"/>


    <field cardinality="1" default="false" name="transparentProxy" type="boolean"/>
    <field cardinality="1" default="false" name="sendReceivedContentHeaders" type="boolean"/>
    <field cardinality="1" default="true" name="handleRedirects" type="boolean"/>
    <field cardinality="1" default="false" name="performRetries" type="boolean"/>
    <field cardinality="*" name="retryHTTPRanges" type="^HTTPStatusClass"/>
    <field cardinality="1" default="5" name="retryCount" type="string"/>
    <field cardinality="1" default="500" name="retryLatency" type="string"/>
    <field cardinality="1" default="false" name="slaBreachAsFailure" type="boolean"/>
    <field cardinality="1" default="false" name="saveTransactionOnFailure" type="boolean"/>
    <field cardinality="1" default="false" name="runPolicyOnConnectionFailure" type="boolean"/>
    <field cardinality="?" name="connectionFailurePolicy" type="^FilterCircuit"/>
    <field cardinality="?" name="proxyServer" type="^ProxyServer"/>
    <field cardinality="?" default="0" name="stickyness" type="integer"/>
    <field cardinality="?" default="unnamed" name="stickyCookieName" type="string"/>
    <field cardinality="?" default="600000" name="stickyCookieExpiry" type="long"/>
    <field cardinality="?" default="" name="stickyCookiePath" type="string"/>
    <field cardinality="?" default="" name="stickyCookieDomain" type="string"/>
    <field cardinality="?" default="false" name="loadResponseBody" type="boolean"/>
    <field cardinality="?" default="false" name="closePreviousConnection" type="boolean"/>
  </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="ConnectionFilter" name="ConnectToURLFilter">
        <constant name="_version" type="integer" value="4"/>
		<constant name="class" type="string" value="com.vordel.circuit.net.ConnectToURLFilter"/>
		<field cardinality="1" default="${http.request.uri}" name="url" type="string"/>	
		<field cardinality="1" default="${http.request.verb}" name="method" type="string"/>	
		<field cardinality="1" default="${content.body}" name="body" type="string"/>	
		<field cardinality="1" default="${http.headers}" name="protoHeaders" type="string"/>	
	</entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="Filter" name="JSONPathFilter">
        <constant name="_version" type="integer" value="0"/>
        <constant name="class" type="string" value="com.vordel.circuit.json.JSONPathFilter"/>
        <componentType name="JSONPath"/>
    </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="Filter" name="TraceFilter">
        <constant name="_version" type="integer" value="3"/>
		    <constant name="class" type="string" value="com.vordel.circuit.basic.TraceFilter"/>
        <field cardinality="?" name="traceMsg" type="string"/>
        <field cardinality="1" default="5" name="traceLevel" type="integer"/>
        <field cardinality="1" default="1" name="traceAttributes" type="boolean"/>
        <field cardinality="1" default="0" name="traceBody" type="boolean"/>
        <field cardinality="1" default="0" name="doIndent" type="boolean"/>
    </entityType>
<entityType xmlns="http://www.vordel.com/2005/06/24/entityStore" extends="Filter" name="FalseFilter">
        <constant name="_version" type="integer" value="0"/>
		<constant name="class" type="string" value="com.vordel.circuit.basic.False"/>
	</entityType>
</entityStoreData>
	]]></realizedTypes>
</metaInfo>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="RemoteHost">
	<key type='NetService'>
		<id field='name' value='Service'/>
	</key>
	<fval name="activetimeout"><value>30000</value></fval>
	<fval name="addressCacheTime"><value>300000</value></fval>
	<fval name="alias"><value>APIM Master</value></fval>
	<fval name="allowHTTP11"><value>1</value></fval>
	<fval name="connectTimeout"><value>30000</value></fval>
	<fval name="exportCorrelationId"><value>1</value></fval>
	<fval name="idletimeout"><value>15000</value></fval>
	<fval name="includeContentLengthRequest"><value>0</value></fval>
	<fval name="includeContentLengthResponse"><value>0</value></fval>
	<fval name="inputBufSize"><value>8192</value></fval>
	<fval name="inputEncodings"><value>.inherit</value></fval>
	<fval name="maxConnections"><value>-1</value></fval>
	<fval name="maxInputLen"><value>20971520</value></fval>
	<fval name="maxOutputLen"><value>20971520</value></fval>
	<fval name="maxTransTimeout"><value>240000</value></fval>
	<fval name="name"><value>localhost</value></fval>
	<fval name="offerTlsServerName"><value>0</value></fval>
	<fval name="outputBufSize"><value>8192</value></fval>
	<fval name="outputEncodings"><value>.inherit</value></fval>
	<fval name="port"><value>8175</value></fval>
	<fval name="sessionCacheSize"><value>32</value></fval>
	<fval name="verifyServerHostname"><value>0</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="RoundRobinLbCfg">
	<key type='NetService'>
		<id field='name' value='Service'/>
		<key type='RemoteHost'>
			<id field='alias' value='APIM Master'/>
		</key>
	</key>
	<fval name="name"><value>67aadcc2-9644-4d24-b406-461a2470d6fe</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="NetService">
	<fval name="name"><value>Service</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="FilterCircuit">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
			</key>
		</key>
	</key>
	<fval name="category"><value contentType="reference">
		<key type='PolicyCategoryGroup'>
			<id field='name' value='Policy Categories'/>
			<key type='PolicyCategory'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="description"><value></value></fval>
	<fval name="logMask"><value>3</value></fval>
	<fval name="name"><value>Compare User Info</value></fval>
	<fval name="start"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Compare User Info'/>
						<key type='CircuitDelegateFilter'>
							<id field='name' value='Get User Info from IdP'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="TrueFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value></value></fval>
	<fval name="logFatal"><value>True filter error. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>True filter passed</value></fval>
	<fval name="name"><value>True Filter{2}</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="CompareAttributeFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="failureNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Compare User Info'/>
						<key type='TrueFilter'>
							<id field='name' value='True user exists with same record'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>Filter aborted due to exception</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Filter passed</value></fval>
	<fval name="matchingRule"><value>MATCH_ONE</value></fval>
	<fval name="name"><value>Compare User Attributes</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Compare User Info'/>
						<key type='ChangeMessageFilter'>
							<id field='name' value='Update User Details'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="AttributeCompare">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='CompareAttributeFilter'>
						<id field='name' value='Compare User Attributes'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attrName"><value>${extidentity.organization.id}</value></fval>
	<fval name="expression"><value>${organizationId}</value></fval>
	<fval name="matchType"><value>IS_NOT</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="AttributeCompare">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='CompareAttributeFilter'>
						<id field='name' value='Compare User Attributes'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attrName"><value>${extidentity.role}</value></fval>
	<fval name="expression"><value>${role}</value></fval>
	<fval name="matchType"><value>IS_NOT</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="AttributeCompare">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='CompareAttributeFilter'>
						<id field='name' value='Compare User Attributes'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attrName"><value>${extidentity.phone}</value></fval>
	<fval name="expression"><value>${phone}</value></fval>
	<fval name="matchType"><value>IS_NOT</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="AttributeCompare">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='CompareAttributeFilter'>
						<id field='name' value='Compare User Attributes'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attrName"><value>${extidentity.name}</value></fval>
	<fval name="expression"><value>${name}</value></fval>
	<fval name="matchType"><value>IS_NOT</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="CompareAttributeFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>Filter aborted due to exception</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Filter passed</value></fval>
	<fval name="matchingRule"><value>MATCH_ALL</value></fval>
	<fval name="name"><value>Compare Update Response</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Compare User Info'/>
						<key type='TrueFilter'>
							<id field='name' value='True Filter{2}'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="AttributeCompare">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='CompareAttributeFilter'>
						<id field='name' value='Compare Update Response'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attrName"><value>${http.response.status}</value></fval>
	<fval name="expression"><value>2</value></fval>
	<fval name="matchType"><value>BEGINS_WITH</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="ConnectToURLFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="body"><value>${content.body}</value></fval>
	<fval name="caCerts"></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="ciphers"><value>FIPS:!SSLv3:!aNULL</value></fval>
	<fval name="closePreviousConnection"><value>0</value></fval>
	<fval name="connectionFailurePolicy"><value contentType="reference">-1</value></fval>
	<fval name="forwardClientHostHeader"><value>0</value></fval>
	<fval name="handleRedirects"><value>1</value></fval>
	<fval name="loadResponseBody"><value>0</value></fval>
	<fval name="logFailure"><value>Failed to route request to endpoint.</value></fval>
	<fval name="logFatal"><value>Error occurred while routing request to endpoint. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Successfully routed request to endpoint</value></fval>
	<fval name="method"><value>PUT</value></fval>
	<fval name="name"><value>Update User info on APIM with idP data</value></fval>
	<fval name="performRetries"><value>0</value></fval>
	<fval name="profile"><value contentType="reference">
<key type='AuthProfilesGroup'><id field='name' value='Auth Profiles'/><key type='BasicAuthGroup'><id field='name' value='HTTP Basic'/><key type='BasicProfile'><id field='name' value='APIM'/></key></key></key>	</value></fval>
	<fval name="profileInUse"><value>1</value></fval>
	<fval name="profileSelector"><value></value></fval>
	<fval name="profileType"><value>reference</value></fval>
	<fval name="protoHeaders"><value>${http.headers}</value></fval>
	<fval name="proxyServer"><value contentType="reference">-1</value></fval>
	<fval name="retryCount"><value>5</value></fval>
	<fval name="retryHTTPRanges"><value contentType="reference">-1</value></fval>
	<fval name="retryLatency"><value>500</value></fval>
	<fval name="runPolicyOnConnectionFailure"><value>0</value></fval>
	<fval name="saveTransactionOnFailure"><value>0</value></fval>
	<fval name="sendProxyMode"><value>0</value></fval>
	<fval name="sendReceivedContentHeaders"><value>0</value></fval>
	<fval name="slaBreachAsFailure"><value>0</value></fval>
	<fval name="sslUsers"><value contentType="reference">-1</value></fval>
	<fval name="ssloptions">
		<value>nosslv3</value>
		<value>notlsv1</value>
		<value>nosslv2</value>
		<value>notlsv1_1</value>
	</fval>
	<fval name="stickyCookieDomain"><value></value></fval>
	<fval name="stickyCookieExpiry"><value>600000</value></fval>
	<fval name="stickyCookieName"><value>unnamed</value></fval>
	<fval name="stickyCookiePath"><value></value></fval>
	<fval name="stickyness"><value>0</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Compare User Info'/>
						<key type='CompareAttributeFilter'>
							<id field='name' value='Compare Update Response'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
	<fval name="transparentProxy"><value>0</value></fval>
	<fval name="url"><value>https://localhost:8175/api/portal/v1.3/users/${id}</value></fval>
	<fval name="useRootCerts"><value>1</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="SaveToFileFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='ConnectToURLFilter'>
						<id field='name' value='Update User info on APIM with idP data'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="directory"><value>${environment.VINSTDIR}/message-archive</value></fval>
	<fval name="fileName"><value>${id}.out</value></fval>
	<fval name="includeHeaders"><value>0</value></fval>
	<fval name="includeRequestLine"><value>0</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>Filter aborted due to exception</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Filter passed</value></fval>
	<fval name="maxFileSize"><value>1000</value></fval>
	<fval name="maxNumberFiles"><value>500</value></fval>
	<fval name="name"><value>Persistence Details</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="CircuitDelegateFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="circuitPK"><value contentType="reference">
<key type='CircuitContainer'><id field='name' value='Sample Policies'/><key type='CircuitContainer'><id field='name' value='API Management Identity Provider'/><key type='CircuitContainer'><id field='name' value='Keycloak idP'/><key type='FilterCircuit'><id field='name' value='Get idP User Info'/></key></key></key></key>	</value></fval>
	<fval name="logFailure"><value>Failed in calling policy shortcut</value></fval>
	<fval name="logFatal"><value>Error in calling policy shortcut circuit. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Success in calling policy shortcut</value></fval>
	<fval name="name"><value>Get User Info from IdP</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Compare User Info'/>
						<key type='ConnectToURLFilter'>
							<id field='name' value='Connect to URL'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="TrueFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value></value></fval>
	<fval name="logFatal"><value>True filter error. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>True filter passed</value></fval>
	<fval name="name"><value>True user exists with same record</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="ConnectToURLFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="body"><value>${content.body}</value></fval>
	<fval name="caCerts"></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="ciphers"><value>FIPS:!SSLv3:!aNULL</value></fval>
	<fval name="closePreviousConnection"><value>0</value></fval>
	<fval name="connectionFailurePolicy"><value contentType="reference">-1</value></fval>
	<fval name="forwardClientHostHeader"><value>0</value></fval>
	<fval name="handleRedirects"><value>1</value></fval>
	<fval name="loadResponseBody"><value>0</value></fval>
	<fval name="logFailure"><value>Failed to route request to endpoint.</value></fval>
	<fval name="logFatal"><value>Error occurred while routing request to endpoint. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Successfully routed request to endpoint</value></fval>
	<fval name="method"><value>GET</value></fval>
	<fval name="name"><value>Connect to URL</value></fval>
	<fval name="performRetries"><value>0</value></fval>
	<fval name="profile"><value contentType="reference">
<key type='AuthProfilesGroup'><id field='name' value='Auth Profiles'/><key type='BasicAuthGroup'><id field='name' value='HTTP Basic'/><key type='BasicProfile'><id field='name' value='APIM'/></key></key></key>	</value></fval>
	<fval name="profileInUse"><value>1</value></fval>
	<fval name="profileSelector"><value></value></fval>
	<fval name="profileType"><value>reference</value></fval>
	<fval name="protoHeaders"><value>${http.headers}</value></fval>
	<fval name="proxyServer"><value contentType="reference">-1</value></fval>
	<fval name="retryCount"><value>5</value></fval>
	<fval name="retryHTTPRanges"><value contentType="reference">-1</value></fval>
	<fval name="retryLatency"><value>500</value></fval>
	<fval name="runPolicyOnConnectionFailure"><value>0</value></fval>
	<fval name="saveTransactionOnFailure"><value>0</value></fval>
	<fval name="sendProxyMode"><value>0</value></fval>
	<fval name="sendReceivedContentHeaders"><value>0</value></fval>
	<fval name="slaBreachAsFailure"><value>0</value></fval>
	<fval name="sslUsers"><value contentType="reference">-1</value></fval>
	<fval name="ssloptions">
		<value>nosslv3</value>
		<value>notlsv1</value>
		<value>nosslv2</value>
		<value>notlsv1_1</value>
	</fval>
	<fval name="stickyCookieDomain"><value></value></fval>
	<fval name="stickyCookieExpiry"><value>600000</value></fval>
	<fval name="stickyCookieName"><value>unnamed</value></fval>
	<fval name="stickyCookiePath"><value></value></fval>
	<fval name="stickyness"><value>0</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Compare User Info'/>
						<key type='CompareAttributeFilter'>
							<id field='name' value='Compare Response Code'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
	<fval name="transparentProxy"><value>0</value></fval>
	<fval name="url"><value>https://localhost:8175/api/portal/v1.3/users?field=loginName&amp;op=eq&amp;value=${authN.loginname}</value></fval>
	<fval name="useRootCerts"><value>1</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="SaveToFileFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='ConnectToURLFilter'>
						<id field='name' value='Connect to URL'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="directory"><value>${environment.VINSTDIR}/message-archive</value></fval>
	<fval name="fileName"><value>${id}.out</value></fval>
	<fval name="includeHeaders"><value>0</value></fval>
	<fval name="includeRequestLine"><value>0</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>Filter aborted due to exception</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Filter passed</value></fval>
	<fval name="maxFileSize"><value>1000</value></fval>
	<fval name="maxNumberFiles"><value>500</value></fval>
	<fval name="name"><value>Persistence Details</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="CompareAttributeFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="failureNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Compare User Info'/>
						<key type='TrueFilter'>
							<id field='name' value='True User Does Not Exist yet'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>Filter aborted due to exception</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Filter passed</value></fval>
	<fval name="matchingRule"><value>MATCH_ALL</value></fval>
	<fval name="name"><value>Compare Response Code</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Compare User Info'/>
						<key type='JSONPathFilter'>
							<id field='name' value='JSON Path'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="AttributeCompare">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='CompareAttributeFilter'>
						<id field='name' value='Compare Response Code'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attrName"><value>${http.response.status}</value></fval>
	<fval name="expression"><value>2</value></fval>
	<fval name="matchType"><value>BEGINS_WITH</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="ChangeMessageFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="body"><value>{&#xA;        &quot;id&quot;: &quot;${id}&quot;,&#xA;        &quot;organizationId&quot;: &quot;${extidentity.organization.id}&quot;,&#xA;        &quot;name&quot;: &quot;${extidentity.name}&quot;,&#xA;        &quot;description&quot;: ${description},&#xA;        &quot;loginName&quot;: &quot;${loginName}&quot;,&#xA;        &quot;email&quot;: &quot;${email}&quot;,&#xA;        &quot;phone&quot;: &quot;${extidentity.phone}&quot;,&#xA;        &quot;role&quot;: &quot;${extidentity.role}&quot;,&#xA;        &quot;enabled&quot;: ${enabled},&#xA;        &quot;state&quot;: &quot;approved&quot;,&#xA;        &quot;type&quot;: &quot;external&quot;&#xA;}</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value>Failed in setting the message</value></fval>
	<fval name="logFatal"><value>Error in setting the message. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Success in setting the message</value></fval>
	<fval name="name"><value>Update User Details</value></fval>
	<fval name="outputContentType"><value>application/json</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Compare User Info'/>
						<key type='ConnectToURLFilter'>
							<id field='name' value='Update User info on APIM with idP data'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="TrueFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value></value></fval>
	<fval name="logFatal"><value>True filter error. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>True filter passed</value></fval>
	<fval name="name"><value>True User Does Not Exist yet</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPathFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="failureNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Compare User Info'/>
						<key type='TrueFilter'>
							<id field='name' value='True User Does Not Exist yet'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>Filter aborted due to exception</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Filter passed</value></fval>
	<fval name="name"><value>JSON Path</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Compare User Info'/>
						<key type='CompareAttributeFilter'>
							<id field='name' value='Compare User Attributes'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='JSON Path'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>state</value></fval>
	<fval name="expression"><value>$.[0]state</value></fval>
	<fval name="failOnError"><value>0</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='JSON Path'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>phone</value></fval>
	<fval name="expression"><value>$.[0]phone</value></fval>
	<fval name="failOnError"><value>0</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='JSON Path'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>type</value></fval>
	<fval name="expression"><value>$.[0]type</value></fval>
	<fval name="failOnError"><value>0</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='JSON Path'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>id</value></fval>
	<fval name="expression"><value>$.[0]id</value></fval>
	<fval name="failOnError"><value>0</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='JSON Path'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>loginName</value></fval>
	<fval name="expression"><value>$.[0]loginName</value></fval>
	<fval name="failOnError"><value>1</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='JSON Path'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>email</value></fval>
	<fval name="expression"><value>$.[0]email</value></fval>
	<fval name="failOnError"><value>1</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='JSON Path'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>description</value></fval>
	<fval name="expression"><value>$.[0]description</value></fval>
	<fval name="failOnError"><value>0</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='JSON Path'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>organizationId</value></fval>
	<fval name="expression"><value>$.[0]organizationId</value></fval>
	<fval name="failOnError"><value>0</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='JSON Path'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>name</value></fval>
	<fval name="expression"><value>$.[0]name</value></fval>
	<fval name="failOnError"><value>0</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='JSON Path'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>role</value></fval>
	<fval name="expression"><value>$.[0]role</value></fval>
	<fval name="failOnError"><value>0</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Compare User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='JSON Path'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>enabled</value></fval>
	<fval name="expression"><value>$.[0]enabled</value></fval>
	<fval name="failOnError"><value>0</value></fval>
	<fval name="unmarshalType"><value>java.lang.Boolean</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="CircuitContainer">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
		</key>
	</key>
	<fval name="name"><value>Keycloak idP</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="CircuitContainer">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
	</key>
	<fval name="name"><value>API Management Identity Provider</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="CircuitContainer">
	<fval name="name"><value>Sample Policies</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="RemoteHost">
	<key type='NetService'>
		<id field='name' value='Service'/>
	</key>
	<fval name="activetimeout"><value>30000</value></fval>
	<fval name="addressCacheTime"><value>300000</value></fval>
	<fval name="alias"><value>keycloak</value></fval>
	<fval name="allowHTTP11"><value>1</value></fval>
	<fval name="connectTimeout"><value>30000</value></fval>
	<fval name="exportCorrelationId"><value>1</value></fval>
	<fval name="idletimeout"><value>15000</value></fval>
	<fval name="includeContentLengthRequest"><value>0</value></fval>
	<fval name="includeContentLengthResponse"><value>0</value></fval>
	<fval name="inputBufSize"><value>8192</value></fval>
	<fval name="inputEncodings"><value>.inherit</value></fval>
	<fval name="maxConnections"><value>-1</value></fval>
	<fval name="maxInputLen"><value>20971520</value></fval>
	<fval name="maxOutputLen"><value>20971520</value></fval>
	<fval name="maxTransTimeout"><value>240000</value></fval>
	<fval name="name"><value>localhost</value></fval>
	<fval name="offerTlsServerName"><value>0</value></fval>
	<fval name="outputBufSize"><value>8192</value></fval>
	<fval name="outputEncodings"><value>.inherit</value></fval>
	<fval name="port"><value>41883</value></fval>
	<fval name="sessionCacheSize"><value>32</value></fval>
	<fval name="verifyServerHostname"><value>0</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="RoundRobinLbCfg">
	<key type='NetService'>
		<id field='name' value='Service'/>
		<key type='RemoteHost'>
			<id field='alias' value='keycloak'/>
		</key>
	</key>
	<fval name="name"><value>454d31c1-822c-4f51-b6b1-b49500c7230f</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="FilterCircuit">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
			</key>
		</key>
	</key>
	<fval name="category"><value contentType="reference">
		<key type='PolicyCategoryGroup'>
			<id field='name' value='Policy Categories'/>
			<key type='PolicyCategory'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="description"><value></value></fval>
	<fval name="logMask"><value>3</value></fval>
	<fval name="name"><value>Authenticate with Keycloak</value></fval>
	<fval name="start"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Authenticate with Keycloak'/>
						<key type='CopyAttributeFilter'>
							<id field='name' value='Set Client Params'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPathFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Authenticate with Keycloak'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="failureNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Authenticate with Keycloak'/>
						<key type='FalseFilter'>
							<id field='name' value='False Filter'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>Filter aborted due to exception</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Filter passed</value></fval>
	<fval name="name"><value>Extract Access Token</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Authenticate with Keycloak'/>
						<key type='TraceFilter'>
							<id field='name' value='Trace Filter'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Authenticate with Keycloak'/>
					<key type='JSONPathFilter'>
						<id field='name' value='Extract Access Token'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>access_token</value></fval>
	<fval name="expression"><value>$.access_token</value></fval>
	<fval name="failOnError"><value>1</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="CopyAttributeFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Authenticate with Keycloak'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value>Failed to copy attributes</value></fval>
	<fval name="logFatal"><value>Error occurred while copying attributes. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Copied attributes successfully</value></fval>
	<fval name="name"><value>Set Client Params</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Authenticate with Keycloak'/>
						<key type='ConnectToURLFilter'>
							<id field='name' value='Connect to URL'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="CopyAttribute">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Authenticate with Keycloak'/>
					<key type='CopyAttributeFilter'>
						<id field='name' value='Set Client Params'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeValue"><value>keycloakIDP</value></fval>
	<fval name="fromAttributeLocation"><value>3</value></fval>
	<fval name="fromAttributeName"><value></value></fval>
	<fval name="fromAttributeNamespace"><value></value></fval>
	<fval name="toAttributeLocation"><value>1</value></fval>
	<fval name="toAttributeName"><value>client_id</value></fval>
	<fval name="toAttributeNamespace"><value></value></fval>
	<fval name="toListAttribute"><value>0</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="CopyAttribute">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Authenticate with Keycloak'/>
					<key type='CopyAttributeFilter'>
						<id field='name' value='Set Client Params'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeValue"><value>9cfa75f6-22f9-4816-9931-c9c84b6c5b1c</value></fval>
	<fval name="fromAttributeLocation"><value>3</value></fval>
	<fval name="fromAttributeName"><value></value></fval>
	<fval name="fromAttributeNamespace"><value></value></fval>
	<fval name="toAttributeLocation"><value>1</value></fval>
	<fval name="toAttributeName"><value>client_secret</value></fval>
	<fval name="toAttributeNamespace"><value></value></fval>
	<fval name="toListAttribute"><value>0</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="ConnectToURLFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Authenticate with Keycloak'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="body"><value>Content-Type: application/x-www-form-urlencoded&#xA;&#xA;grant_type=password&amp;client_id=${client_id}&amp;client_secret=${client_secret}&amp;username=${authN.loginname}&amp;password=${authN.password}</value></fval>
	<fval name="caCerts"></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="ciphers"><value>FIPS:!SSLv3:!aNULL</value></fval>
	<fval name="closePreviousConnection"><value>0</value></fval>
	<fval name="connectionFailurePolicy"><value contentType="reference">-1</value></fval>
	<fval name="failureNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Authenticate with Keycloak'/>
						<key type='FalseFilter'>
							<id field='name' value='False Filter'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
	<fval name="forwardClientHostHeader"><value>0</value></fval>
	<fval name="handleRedirects"><value>1</value></fval>
	<fval name="loadResponseBody"><value>0</value></fval>
	<fval name="logFailure"><value>Failed to route request to endpoint.</value></fval>
	<fval name="logFatal"><value>Error occurred while routing request to endpoint. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Successfully routed request to endpoint</value></fval>
	<fval name="method"><value>POST</value></fval>
	<fval name="name"><value>Connect to URL</value></fval>
	<fval name="performRetries"><value>0</value></fval>
	<fval name="profile"><value contentType="reference">-1</value></fval>
	<fval name="profileInUse"><value>0</value></fval>
	<fval name="profileSelector"><value></value></fval>
	<fval name="profileType"><value>reference</value></fval>
	<fval name="protoHeaders"><value>Accept: */*</value></fval>
	<fval name="proxyServer"><value contentType="reference">-1</value></fval>
	<fval name="retryCount"><value>5</value></fval>
	<fval name="retryHTTPRanges"><value contentType="reference">-1</value></fval>
	<fval name="retryLatency"><value>500</value></fval>
	<fval name="runPolicyOnConnectionFailure"><value>0</value></fval>
	<fval name="saveTransactionOnFailure"><value>0</value></fval>
	<fval name="sendProxyMode"><value>0</value></fval>
	<fval name="sendReceivedContentHeaders"><value>0</value></fval>
	<fval name="slaBreachAsFailure"><value>0</value></fval>
	<fval name="sslUsers"><value contentType="reference">-1</value></fval>
	<fval name="ssloptions">
		<value>nosslv3</value>
		<value>notlsv1</value>
		<value>nosslv2</value>
		<value>notlsv1_1</value>
	</fval>
	<fval name="stickyCookieDomain"><value></value></fval>
	<fval name="stickyCookieExpiry"><value>600000</value></fval>
	<fval name="stickyCookieName"><value>unnamed</value></fval>
	<fval name="stickyCookiePath"><value></value></fval>
	<fval name="stickyness"><value>0</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Authenticate with Keycloak'/>
						<key type='CompareAttributeFilter'>
							<id field='name' value='Compare Success Response'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
	<fval name="transparentProxy"><value>0</value></fval>
	<fval name="url"><value>https://localhost:41883/auth/realms/Axway/protocol/openid-connect/token</value></fval>
	<fval name="useRootCerts"><value>1</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="SaveToFileFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Authenticate with Keycloak'/>
					<key type='ConnectToURLFilter'>
						<id field='name' value='Connect to URL'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="directory"><value>${environment.VINSTDIR}/message-archive</value></fval>
	<fval name="fileName"><value>${id}.out</value></fval>
	<fval name="includeHeaders"><value>0</value></fval>
	<fval name="includeRequestLine"><value>0</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>Filter aborted due to exception</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Filter passed</value></fval>
	<fval name="maxFileSize"><value>1000</value></fval>
	<fval name="maxNumberFiles"><value>500</value></fval>
	<fval name="name"><value>Persistence Details</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="FalseFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Authenticate with Keycloak'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>False filter error. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value></value></fval>
	<fval name="name"><value>False Filter</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="TraceFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Authenticate with Keycloak'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="doIndent"><value>0</value></fval>
	<fval name="logFailure"><value>Failed to trace the message properties</value></fval>
	<fval name="logFatal"><value>Error while tracing the message properties. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Traced the message properties</value></fval>
	<fval name="name"><value>Trace Filter</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Authenticate with Keycloak'/>
						<key type='CircuitDelegateFilter'>
							<id field='name' value='Policy Shortcut'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
	<fval name="traceAttributes"><value>1</value></fval>
	<fval name="traceBody"><value>1</value></fval>
	<fval name="traceLevel"><value>5</value></fval>
	<fval name="traceMsg"><value>${content.body}</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="CircuitDelegateFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Authenticate with Keycloak'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="circuitPK"><value contentType="reference">
<key type='CircuitContainer'><id field='name' value='Sample Policies'/><key type='CircuitContainer'><id field='name' value='API Management Identity Provider'/><key type='CircuitContainer'><id field='name' value='Keycloak idP'/><key type='FilterCircuit'><id field='name' value='Compare User Info'/></key></key></key></key>	</value></fval>
	<fval name="logFailure"><value>Failed in calling policy shortcut</value></fval>
	<fval name="logFatal"><value>Error in calling policy shortcut circuit. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Success in calling policy shortcut</value></fval>
	<fval name="name"><value>Policy Shortcut</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="CompareAttributeFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Authenticate with Keycloak'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="failureNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Authenticate with Keycloak'/>
						<key type='FalseFilter'>
							<id field='name' value='False Filter'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>Filter aborted due to exception</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Filter passed</value></fval>
	<fval name="matchingRule"><value>MATCH_ALL</value></fval>
	<fval name="name"><value>Compare Success Response</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Authenticate with Keycloak'/>
						<key type='JSONPathFilter'>
							<id field='name' value='Extract Access Token'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="AttributeCompare">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Authenticate with Keycloak'/>
					<key type='CompareAttributeFilter'>
						<id field='name' value='Compare Success Response'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attrName"><value>${http.response.status}</value></fval>
	<fval name="expression"><value>2</value></fval>
	<fval name="matchType"><value>BEGINS_WITH</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="BasicProfile">
	<key type='AuthProfilesGroup'>
		<id field='name' value='Auth Profiles'/>
		<key type='BasicAuthGroup'>
			<id field='name' value='HTTP Basic'/>
		</key>
	</key>
	<fval name="httpAuthPass"><value>Y2hhbmdlbWU=</value></fval>
	<fval name="httpAuthType"><value>basic</value></fval>
	<fval name="httpAuthUser"><value>apiadmin</value></fval>
	<fval name="httpSendCredsWithoutPrompt"><value>1</value></fval>
	<fval name="name"><value>APIM</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="BasicAuthGroup">
	<key type='AuthProfilesGroup'>
		<id field='name' value='Auth Profiles'/>
	</key>
	<fval name="name"><value>HTTP Basic</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="AuthProfilesGroup">
	<fval name="name"><value>Auth Profiles</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="ESConfiguration">
	<fval name="name"><value>Entity Store Configuration</value></fval>
	<fval name="passphraseTest"><value>aHR0cDsvL3d3dy52b3JkZWwuY29t</value></fval>
	<fval name="productKey"><value>VordelGateway</value></fval>
	<fval name="version"><value>7.6.2</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="FilterCircuit">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
			</key>
		</key>
	</key>
	<fval name="category"><value contentType="reference">
		<key type='PolicyCategoryGroup'>
			<id field='name' value='Policy Categories'/>
			<key type='PolicyCategory'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="description"><value></value></fval>
	<fval name="logMask"><value>3</value></fval>
	<fval name="name"><value>Get idP User Info</value></fval>
	<fval name="start"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Get idP User Info'/>
						<key type='SetAttributeFilter'>
							<id field='name' value='Set Access Token to get User Info'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="ConnectToURLFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="body"><value>${content.body}</value></fval>
	<fval name="caCerts"></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="ciphers"><value>FIPS:!SSLv3:!aNULL</value></fval>
	<fval name="closePreviousConnection"><value>0</value></fval>
	<fval name="connectionFailurePolicy"><value contentType="reference">-1</value></fval>
	<fval name="forwardClientHostHeader"><value>0</value></fval>
	<fval name="handleRedirects"><value>1</value></fval>
	<fval name="loadResponseBody"><value>0</value></fval>
	<fval name="logFailure"><value>Failed to route request to endpoint.</value></fval>
	<fval name="logFatal"><value>Error occurred while routing request to endpoint. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Successfully routed request to endpoint</value></fval>
	<fval name="method"><value>GET</value></fval>
	<fval name="name"><value>Get Organization Id</value></fval>
	<fval name="performRetries"><value>0</value></fval>
	<fval name="profile"><value contentType="reference">
<key type='AuthProfilesGroup'><id field='name' value='Auth Profiles'/><key type='BasicAuthGroup'><id field='name' value='HTTP Basic'/><key type='BasicProfile'><id field='name' value='APIM'/></key></key></key>	</value></fval>
	<fval name="profileInUse"><value>1</value></fval>
	<fval name="profileSelector"><value></value></fval>
	<fval name="profileType"><value>reference</value></fval>
	<fval name="protoHeaders"><value>${http.headers}</value></fval>
	<fval name="proxyServer"><value contentType="reference">-1</value></fval>
	<fval name="retryCount"><value>5</value></fval>
	<fval name="retryHTTPRanges"><value contentType="reference">-1</value></fval>
	<fval name="retryLatency"><value>500</value></fval>
	<fval name="runPolicyOnConnectionFailure"><value>0</value></fval>
	<fval name="saveTransactionOnFailure"><value>0</value></fval>
	<fval name="sendProxyMode"><value>0</value></fval>
	<fval name="sendReceivedContentHeaders"><value>0</value></fval>
	<fval name="slaBreachAsFailure"><value>0</value></fval>
	<fval name="sslUsers"><value contentType="reference">-1</value></fval>
	<fval name="ssloptions">
		<value>nosslv3</value>
		<value>notlsv1</value>
		<value>nosslv2</value>
		<value>notlsv1_1</value>
	</fval>
	<fval name="stickyCookieDomain"><value></value></fval>
	<fval name="stickyCookieExpiry"><value>600000</value></fval>
	<fval name="stickyCookieName"><value>unnamed</value></fval>
	<fval name="stickyCookiePath"><value></value></fval>
	<fval name="stickyness"><value>0</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Get idP User Info'/>
						<key type='JSONPathFilter'>
							<id field='name' value='Get Org Id'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
	<fval name="transparentProxy"><value>0</value></fval>
	<fval name="url"><value>https://localhost:8175/api/portal/v1.3/organizations?field=name&amp;op=eq&amp;value=${extidentity.organization}</value></fval>
	<fval name="useRootCerts"><value>1</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="SaveToFileFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
					<key type='ConnectToURLFilter'>
						<id field='name' value='Get Organization Id'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="directory"><value>${environment.VINSTDIR}/message-archive</value></fval>
	<fval name="fileName"><value>${id}.out</value></fval>
	<fval name="includeHeaders"><value>0</value></fval>
	<fval name="includeRequestLine"><value>0</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>Filter aborted due to exception</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Filter passed</value></fval>
	<fval name="maxFileSize"><value>1000</value></fval>
	<fval name="maxNumberFiles"><value>500</value></fval>
	<fval name="name"><value>Persistence Details</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="FalseFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>False filter error. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value></value></fval>
	<fval name="name"><value>False Filte No Organization in Manager</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="SetAttributeFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="attributeValue"><value>Bearer ${access_token}</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value>Failed to set the attribute value</value></fval>
	<fval name="logFatal"><value>Error while setting the attribute value. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Set the attribute value</value></fval>
	<fval name="messageAttribute"><value>auth_header</value></fval>
	<fval name="name"><value>Set Access Token to get User Info</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Get idP User Info'/>
						<key type='AddHTTPHeaderFilter'>
							<id field='name' value='Add Authorization HTTP Header'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPathFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="failureNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Get idP User Info'/>
						<key type='FalseFilter'>
							<id field='name' value='False Filter'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>Filter aborted due to exception</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Filter passed</value></fval>
	<fval name="name"><value>Get Current user info</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Get idP User Info'/>
						<key type='ConnectToURLFilter'>
							<id field='name' value='Get Organization Id'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='Get Current user info'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>extidentity.organization</value></fval>
	<fval name="expression"><value>$.organization</value></fval>
	<fval name="failOnError"><value>1</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='Get Current user info'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>extidentity.enabled</value></fval>
	<fval name="expression"><value>$.enabled</value></fval>
	<fval name="failOnError"><value>0</value></fval>
	<fval name="unmarshalType"><value>java.lang.Boolean</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='Get Current user info'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>extidentity.role</value></fval>
	<fval name="expression"><value>$.role</value></fval>
	<fval name="failOnError"><value>0</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='Get Current user info'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>extidentity.email</value></fval>
	<fval name="expression"><value>$.email</value></fval>
	<fval name="failOnError"><value>0</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='Get Current user info'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>extidentity.phone</value></fval>
	<fval name="expression"><value>$.phone</value></fval>
	<fval name="failOnError"><value>0</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='Get Current user info'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>extidentity.loginName</value></fval>
	<fval name="expression"><value>$.preferred_username</value></fval>
	<fval name="failOnError"><value>0</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='Get Current user info'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>extidentity.name</value></fval>
	<fval name="expression"><value>$.name</value></fval>
	<fval name="failOnError"><value>0</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="AddHTTPHeaderFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="addWhere"><value>httpheaders</value></fval>
	<fval name="base64Encode"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="headerName"><value>Authorization</value></fval>
	<fval name="headerValue"><value>${auth_header}</value></fval>
	<fval name="logFailure"><value>Failed in adding the HTTP header to the message</value></fval>
	<fval name="logFatal"><value>Error in adding the HTTP header to the message. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Success in adding the HTTP header to the message</value></fval>
	<fval name="name"><value>Add Authorization HTTP Header</value></fval>
	<fval name="overwriteExistingHeader"><value>1</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Get idP User Info'/>
						<key type='ConnectToURLFilter'>
							<id field='name' value='Connect to URL'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="CompareAttributeFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="failureNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Get idP User Info'/>
						<key type='FalseFilter'>
							<id field='name' value='False Filter'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>Filter aborted due to exception</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Filter passed</value></fval>
	<fval name="matchingRule"><value>MATCH_ALL</value></fval>
	<fval name="name"><value>Compare Success Response</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Get idP User Info'/>
						<key type='JSONPathFilter'>
							<id field='name' value='Get Current user info'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="AttributeCompare">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
					<key type='CompareAttributeFilter'>
						<id field='name' value='Compare Success Response'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attrName"><value>${http.response.status}</value></fval>
	<fval name="expression"><value>2</value></fval>
	<fval name="matchType"><value>BEGINS_WITH</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPathFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="failureNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Get idP User Info'/>
						<key type='FalseFilter'>
							<id field='name' value='False Filte No Organization in Manager'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>Filter aborted due to exception</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Filter passed</value></fval>
	<fval name="name"><value>Get Org Id</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Get idP User Info'/>
						<key type='TrueFilter'>
							<id field='name' value='True Filter'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="JSONPath">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
					<key type='JSONPathFilter'>
						<id field='name' value='Get Org Id'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="attributeName"><value>extidentity.organization.id</value></fval>
	<fval name="expression"><value>$.[0]id</value></fval>
	<fval name="failOnError"><value>1</value></fval>
	<fval name="unmarshalType"><value>java.lang.String</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="ConnectToURLFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="body"><value>${content.body}</value></fval>
	<fval name="caCerts"></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="ciphers"><value>FIPS:!SSLv3:!aNULL</value></fval>
	<fval name="closePreviousConnection"><value>0</value></fval>
	<fval name="connectionFailurePolicy"><value contentType="reference">-1</value></fval>
	<fval name="failureNode"><value contentType="reference">-1</value></fval>
	<fval name="forwardClientHostHeader"><value>0</value></fval>
	<fval name="handleRedirects"><value>1</value></fval>
	<fval name="loadResponseBody"><value>0</value></fval>
	<fval name="logFailure"><value>Failed to route request to endpoint.</value></fval>
	<fval name="logFatal"><value>Error occurred while routing request to endpoint. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Successfully routed request to endpoint</value></fval>
	<fval name="method"><value>GET</value></fval>
	<fval name="name"><value>Connect to URL</value></fval>
	<fval name="performRetries"><value>0</value></fval>
	<fval name="profile"><value contentType="reference">-1</value></fval>
	<fval name="profileInUse"><value>0</value></fval>
	<fval name="profileSelector"><value></value></fval>
	<fval name="profileType"><value>reference</value></fval>
	<fval name="protoHeaders"><value>${http.headers}</value></fval>
	<fval name="proxyServer"><value contentType="reference">-1</value></fval>
	<fval name="retryCount"><value>5</value></fval>
	<fval name="retryHTTPRanges"><value contentType="reference">-1</value></fval>
	<fval name="retryLatency"><value>500</value></fval>
	<fval name="runPolicyOnConnectionFailure"><value>0</value></fval>
	<fval name="saveTransactionOnFailure"><value>0</value></fval>
	<fval name="sendProxyMode"><value>0</value></fval>
	<fval name="sendReceivedContentHeaders"><value>0</value></fval>
	<fval name="slaBreachAsFailure"><value>0</value></fval>
	<fval name="sslUsers"><value contentType="reference">-1</value></fval>
	<fval name="ssloptions">
		<value>nosslv3</value>
		<value>notlsv1</value>
		<value>nosslv2</value>
		<value>notlsv1_1</value>
	</fval>
	<fval name="stickyCookieDomain"><value></value></fval>
	<fval name="stickyCookieExpiry"><value>600000</value></fval>
	<fval name="stickyCookieName"><value>unnamed</value></fval>
	<fval name="stickyCookiePath"><value></value></fval>
	<fval name="stickyness"><value>0</value></fval>
	<fval name="successNode"><value contentType="reference">
		<key type='CircuitContainer'>
			<id field='name' value='Sample Policies'/>
			<key type='CircuitContainer'>
				<id field='name' value='API Management Identity Provider'/>
				<key type='CircuitContainer'>
					<id field='name' value='Keycloak idP'/>
					<key type='FilterCircuit'>
						<id field='name' value='Get idP User Info'/>
						<key type='CompareAttributeFilter'>
							<id field='name' value='Compare Success Response'/>
						</key>
					</key>
				</key>
			</key>
		</key>
	</value></fval>
	<fval name="transparentProxy"><value>0</value></fval>
	<fval name="url"><value>https://localhost:41883/auth/realms/Axway/protocol/openid-connect/userinfo</value></fval>
	<fval name="useRootCerts"><value>1</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="SaveToFileFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
					<key type='ConnectToURLFilter'>
						<id field='name' value='Connect to URL'/>
					</key>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="directory"><value>${environment.VINSTDIR}/message-archive</value></fval>
	<fval name="fileName"><value>${id}.out</value></fval>
	<fval name="includeHeaders"><value>0</value></fval>
	<fval name="includeRequestLine"><value>0</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>Filter aborted due to exception</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>Filter passed</value></fval>
	<fval name="maxFileSize"><value>1000</value></fval>
	<fval name="maxNumberFiles"><value>500</value></fval>
	<fval name="name"><value>Persistence Details</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="TrueFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value></value></fval>
	<fval name="logFatal"><value>True filter error. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value>True filter passed</value></fval>
	<fval name="name"><value>True Filter</value></fval>
</entity>
<entity xmlns="http://www.vordel.com/2005/06/24/entityStore"  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" type="FalseFilter">
	<key type='CircuitContainer'>
		<id field='name' value='Sample Policies'/>
		<key type='CircuitContainer'>
			<id field='name' value='API Management Identity Provider'/>
			<key type='CircuitContainer'>
				<id field='name' value='Keycloak idP'/>
				<key type='FilterCircuit'>
					<id field='name' value='Get idP User Info'/>
				</key>
			</key>
		</key>
	</key>
	<fval name="abortProcessingOnLogError"><value>0</value></fval>
	<fval name="category"><value contentType="reference">
		<key type='CategoryGroup'>
			<id field='name' value='Filter Categories'/>
			<key type='Category'>
				<id field='name' value='miscellaneous'/>
			</key>
		</key>
	</value></fval>
	<fval name="logFailure"><value>Filter failed</value></fval>
	<fval name="logFatal"><value>False filter error. Error: ${circuit.exception}</value></fval>
	<fval name="logMask"><value>2</value></fval>
	<fval name="logMaskType"><value>SERVICE</value></fval>
	<fval name="logSuccess"><value></value></fval>
	<fval name="name"><value>False Filter</value></fval>
</entity>
</entityStoreData>